package deserialize;

import java.io.InputStream;
import java.io.ObjectInputStream;
import java.io.IOException;
import java.lang.ClassNotFoundException;

import com.biz.org.UserData;

public class Cls
{
    public UserData deserializeObject(InputStream receivedFile) throws IOException, ClassNotFoundException {
        // ruleid:harden-java-deserialization
        ObjectInputStream in = new ObjectInputStream(receivedFile);
        return (UserData) in.readObject();
    }

    public UserData deserializeObject(InputStream receivedFile) throws IOException, ClassNotFoundException {
        // ruleid:harden-java-deserialization
        try (ObjectInputStream in = new ObjectInputStream(receivedFile)) {
            return (UserData) in.readObject();
        } catch (IOException e) {
            throw e;
        }
    }

    public UserData deserializeObject(InputStream receivedFile) throws IOException, ClassNotFoundException {
        try (ObjectInputStream in = new ObjectInputStream(receivedFile)) {
            in.setObjectInputFilter(null);
            return (UserData) in.readObject();
        } catch (IOException e) {
            throw e;
        }
    }
}
